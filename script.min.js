(function(){const f=document.querySelector(".nav__toggle"),t=document.getElementById("primary-menu"),h=document.getElementById("year");if(h&&(h.textContent=new Date().getFullYear()),!f||!t)return;f.addEventListener("click",()=>{const r=t.classList.toggle("is-open");f.setAttribute("aria-expanded",String(r)),document.body.classList.toggle("no-scroll",r)}),t.addEventListener("click",r=>{r.target&&r.target.closest("a")&&(t.classList.remove("is-open"),f.setAttribute("aria-expanded","false"),document.body.classList.remove("no-scroll"))});const a=821;function n(){window.innerWidth>=a&&t.classList.contains("is-open")&&(t.classList.remove("is-open"),f.setAttribute("aria-expanded","false"),document.body.classList.remove("no-scroll"))}window.addEventListener("resize",n)})(),(function(){const f=document.querySelector(".hero-rotator");if(!f)return;const t=["Start finding.","Save time.","Stay focused.","Get answers.","Reclaim control."];let h=0;f.innerHTML="",t.forEach((d,c)=>{const e=document.createElement("span");e.className="hero-rotator__item",c===0&&e.classList.add("is-active"),e.textContent=d,f.appendChild(e)});const a=f.querySelectorAll(".hero-rotator__item");if(a.length<2)return;function n(d){a.forEach((c,e)=>{e===d?c.classList.add("is-active"):c.classList.remove("is-active")})}function r(){h=(h+1)%a.length,n(h)}let l=null;const i=4e3,m=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function o(){m||l||(l=setInterval(r,i))}function s(){l&&(clearInterval(l),l=null)}document.addEventListener("visibilitychange",()=>{document.hidden?s():o()});const u=document.querySelector(".hero");"IntersectionObserver"in window&&u&&new IntersectionObserver(c=>{c.forEach(e=>{e.isIntersecting?o():s()})},{threshold:.2}).observe(u),["mouseenter","focusin"].forEach(d=>f.addEventListener(d,s)),["mouseleave","focusout"].forEach(d=>f.addEventListener(d,o)),o()})(),(function(){let t=null;function h(){return t&&document.body.contains(t)||(t=document.createElement("div"),t.className="toast-container",t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","false"),document.body.appendChild(t)),t}function a(n,r={}){const{type:l="info",duration:i=3e3}=r,m=h(),o=document.createElement("div");o.className=`toast toast--${l}`;const s=document.createElement("span");s.className="toast__icon",s.setAttribute("aria-hidden","true"),s.textContent=l==="success"?"\u2713":l==="error"?"\u26A0":"\u2139";const u=document.createElement("div");u.className="toast__text",u.textContent=n;const d=document.createElement("button");d.className="toast__close",d.type="button",d.setAttribute("aria-label","Dismiss notification"),d.textContent="\xD7",o.appendChild(s),o.appendChild(u),o.appendChild(d),m.appendChild(o),requestAnimationFrame(()=>o.classList.add("is-in"));let c=null;function e(){o.classList.remove("is-in"),o.classList.add("is-out"),setTimeout(()=>{o.remove()},200)}return d.addEventListener("click",e),i!==1/0&&(c=setTimeout(e,i),o.addEventListener("mouseenter",()=>{c&&(clearTimeout(c),c=null)}),o.addEventListener("mouseleave",()=>{c||(c=setTimeout(e,1500))})),e}window.showToast=a})(),(function(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".hero .cta .btn").forEach(i=>{i.addEventListener("click",()=>{const m=i.textContent.trim();typeof posthog<"u"&&posthog.capture("cta_clicked",{section:"hero",button_text:m,href:i.getAttribute("href")})})}),document.querySelectorAll(".nav__links a").forEach(i=>{i.addEventListener("click",()=>{typeof posthog<"u"&&posthog.capture("nav_clicked",{section:i.textContent.trim(),href:i.getAttribute("href")})})});const h=document.querySelector(".pricing__cta");h&&h.addEventListener("click",()=>{typeof posthog<"u"&&posthog.capture("pricing_clicked",{section:"pricing",button_text:h.textContent.trim()})}),document.querySelectorAll(".t-video-thumb").forEach(i=>{i.addEventListener("click",function(){const m=this.getAttribute("data-video-id"),o=this.closest(".t-slide-card"),s=o?o.querySelector(".t-slide-title"):null,u=s?s.textContent.trim():"Unknown Tutorial";typeof posthog<"u"&&posthog.capture("tutorial_video_opened",{video_id:m,title:u})})});let n="";const r=["hero","preview","features","tutorials","buy","faqs"],l=new IntersectionObserver(i=>{i.forEach(m=>{if(m.isIntersecting){const o=m.target.id;n!==o&&r.includes(o)&&(n=o,typeof posthog<"u"&&posthog.capture("section_viewed",{section:o}))}})},{threshold:.5});r.forEach(i=>{const m=document.getElementById(i);m&&l.observe(m)})})})(),(function(){const f=document.querySelector(".hero__image-wrap"),t=document.querySelectorAll(".hero .cta .btn");if(!f||!t.length)return;const h=new Image;h.src="assets/hero_image_2.png";const a=()=>{f.classList.add("is-organizing")},n=()=>{f.classList.remove("is-organizing")};t.forEach(r=>{r.addEventListener("mouseenter",a),r.addEventListener("mouseleave",n),r.addEventListener("focus",a),r.addEventListener("blur",n)})})(),(function(){const f=document.querySelector(".site-header"),t=document.querySelector(".nav__pill"),h=document.querySelector(".brand__logo"),a=document.querySelector(".nav");if(!f||!t||!h||!a)return;const n=document.createElement("a"),r=!!document.getElementById("buy");n.href=r?"#buy":"index.html#buy",n.className="btn btn--primary nav__buy-btn",n.textContent="Buy Now",a.appendChild(n);let l=window.scrollY,i=!1;const m=10;function o(e){i!==e&&(i=e,f.classList.toggle("is-scrolled",i))}function s(){const e=window.scrollY,y=e-l;if(e<10){o(!1),l=e;return}y>m?o(!0):y<-m&&o(!1),l=e}let u=!1;function d(){u||(u=!0,requestAnimationFrame(()=>{s(),u=!1}))}window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("wheel",e=>{e.deltaY<-2?o(!1):e.deltaY>2&&window.scrollY>10&&o(!0)},{passive:!0}),window.addEventListener("keydown",e=>{const y=["ArrowUp","PageUp","Home"],p=["ArrowDown","PageDown","End"," "];y.includes(e.key)&&o(!1),p.includes(e.key)&&window.scrollY>10&&o(!0)});let c=null;window.addEventListener("touchstart",e=>{c=e.touches&&e.touches.length?e.touches[0].clientY:null},{passive:!0}),window.addEventListener("touchmove",e=>{if(c==null)return;const p=(e.touches&&e.touches.length?e.touches[0].clientY:c)-c;p>8&&o(!1),p<-8&&window.scrollY>10&&o(!0)},{passive:!0}),s()})(),(function(){const f=document.querySelector(".feature-search input");if(!f)return;const t=["What\u2019s our plan?","Summarize the Q3 report","Find the invoice for Acme","Show tasks due this week"];let h=0;setInterval(()=>{h=(h+1)%t.length,f.value=t[h]},3e3)})(),(function(){const f=document.querySelectorAll(".tutorials-section .t-carousel");if(!f.length)return;function t(){const a=document.getElementById("video-modal");if(!a)return null;const n=a.querySelector(".video-content"),r=a.querySelector(".video-aspect"),l=a.querySelectorAll('[data-close="video-modal"]');let i=null;function m(){a.classList.remove("is-open"),a.setAttribute("aria-hidden","true"),document.body.style.overflow="",r&&(r.innerHTML=""),document.removeEventListener("keydown",o),i&&typeof i.focus=="function"&&i.focus()}function o(u){u.key==="Escape"&&m()}function s({id:u,title:d}){if(!r||!u)return;i=document.activeElement;const c=`https://www.youtube-nocookie.com/embed/${u}?autoplay=1&rel=0&modestbranding=1`;r.innerHTML=`<iframe src="${c}" title="${d||"Video"}" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>`,n&&n.setAttribute("aria-label",d||"Video player"),a.classList.add("is-open"),a.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden";const e=a.querySelector(".video-close");e&&e.focus(),document.addEventListener("keydown",o,{once:!1})}return l.forEach(u=>u.addEventListener("click",m)),a.addEventListener("click",u=>{u.target&&u.target.getAttribute("data-close")==="video-modal"&&m()}),{open:s,close:m}}const h=t();f.forEach(a=>{const n=a.querySelector(".t-carousel-viewport"),r=a.querySelector(".t-carousel-track"),l=Array.from(a.querySelectorAll(".t-slide")),i=a.querySelector(".t-c-prev"),m=a.querySelector(".t-c-next");if(!n||!r||!l.length)return;l.forEach(e=>{const y=e.querySelector(".t-video-thumb"),p=e.querySelector("img"),w=e.querySelector(".t-slide-card");if(!y||!p||!w)return;const g=(y.getAttribute("data-video-id")||w.getAttribute("data-video-id")||"").trim();if(g){let b=function(){if(!h)return;const v=e.querySelector(".t-slide-title"),L=v?v.textContent.trim():"Video";h.open({id:g,title:L})};var E=b;w.classList.add("t-slide-card--clickable"),w.hasAttribute("tabindex")||w.setAttribute("tabindex","0"),y.href=`https://www.youtube.com/watch?v=${g}`,p.src=`https://i.ytimg.com/vi/${g}/hqdefault.jpg`,y.addEventListener("click",v=>{h&&(v.preventDefault(),v.stopPropagation(),b())}),w.addEventListener("click",v=>{b()}),w.addEventListener("keydown",v=>{const L=v.key==="Enter",k=v.key===" "||v.key==="Spacebar";(L||k)&&(v.preventDefault(),b())})}});const o=e=>{const y=n.getBoundingClientRect();return e.getBoundingClientRect().left-y.left+n.scrollLeft},s=()=>{const e=n.scrollLeft;let y=0,p=1/0;for(let w=0;w<l.length;w++){const g=o(l[w]),E=Math.abs(g-e);E<p&&(y=w,p=E)}return y};function u(){if(!i||!m)return;const e=Math.max(0,n.scrollWidth-n.clientWidth),y=n.scrollLeft,p=y<=1,w=y>=e-1;i.disabled=p,m.disabled=w}function d(e){const y=Math.max(0,Math.min(l.length-1,e)),p=o(l[y]);n.scrollTo({left:p,behavior:"smooth"}),requestAnimationFrame(()=>setTimeout(u,250))}function c(e){const y=s();d(y+(e<0?-1:1))}i&&i.addEventListener("click",()=>c(-1)),m&&m.addEventListener("click",()=>c(1)),n.addEventListener("scroll",()=>{requestAnimationFrame(u)},{passive:!0}),n.addEventListener("keydown",e=>{e.key==="ArrowLeft"&&(e.preventDefault(),c(-1)),e.key==="ArrowRight"&&(e.preventDefault(),c(1))}),u(),window.addEventListener("resize",()=>requestAnimationFrame(u))})})(),(function(){const f=document.getElementById("contact-link")||document.querySelector('.footer__link[href="#contact"]'),t=document.getElementById("contact-modal");if(!t)return;const h=t.querySelector(".contact-content"),a=t.querySelectorAll('[data-close="contact-modal"]'),n=t.querySelector('form[name="contact"]'),r=t.querySelector(".contact-status");let l=null;function i(){t.classList.remove("is-open"),t.setAttribute("aria-hidden","true"),document.body.style.overflow="",document.removeEventListener("keydown",m),l&&typeof l.focus=="function"&&l.focus()}function m(s){s.key==="Escape"&&i()}function o(){l=document.activeElement,t.classList.add("is-open"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden";const s=t.querySelector("#contact-name")||t.querySelector("input, textarea, button");s&&s.focus(),document.addEventListener("keydown",m,{once:!1})}f&&f.addEventListener("click",s=>{s.preventDefault(),o()}),a.forEach(s=>s.addEventListener("click",i)),t.addEventListener("click",s=>{s.target&&s.target.getAttribute("data-close")==="contact-modal"&&i()}),n&&n.addEventListener("submit",async s=>{const u=/^localhost$|^127\.0\.0\.1$/.test(window.location.hostname);if(/^https?:$/.test(window.location.protocol))try{s.preventDefault();const d=n.querySelector('button[type="submit"]');r&&(r.textContent="Sending\u2026"),d&&(d.disabled=!0);const c=new FormData(n);!c.get("form-name")&&n.getAttribute("name")&&c.set("form-name",n.getAttribute("name"));const e=new URLSearchParams(c).toString();if(!(await fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e})).ok)throw new Error("Network error");if(typeof posthog<"u")try{posthog.capture("contact_submitted")}catch{}r&&(r.textContent="Thanks! Your message has been sent.");try{window.showToast&&window.showToast("Message sent. Thanks!",{type:"success"})}catch{}n.reset(),setTimeout(()=>{i(),r&&(r.textContent="")},1800)}catch{r&&(r.textContent="Something went wrong. Please try again.");try{window.showToast&&window.showToast("Something went wrong. Please try again.",{type:"error",duration:4500})}catch{}u||setTimeout(()=>{try{n.submit()}catch{}},200)}finally{const d=n.querySelector('button[type="submit"]');d&&(d.disabled=!1)}}),window.location&&window.location.hash==="#contact"&&setTimeout(o,50)})(),(function(){const f=[document.getElementById("feature-request-link"),document.getElementById("feature-request-link-footer")].filter(Boolean),t=document.getElementById("feature-modal");if(!t)return;const h=t.querySelector(".contact-content"),a=t.querySelectorAll('[data-close="feature-modal"]'),n=t.querySelector('form[name="feature-request"]'),r=t.querySelector(".contact-status");let l=null;function i(){t.classList.remove("is-open"),t.setAttribute("aria-hidden","true"),document.body.style.overflow="",document.removeEventListener("keydown",m),l&&typeof l.focus=="function"&&l.focus()}function m(s){s.key==="Escape"&&i()}function o(){l=document.activeElement,t.classList.add("is-open"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden";const s=t.querySelector("#fr-title")||t.querySelector("input, textarea, button");s&&s.focus(),document.addEventListener("keydown",m,{once:!1})}f.forEach(s=>s.addEventListener("click",u=>{u.preventDefault(),o()})),a.forEach(s=>s.addEventListener("click",i)),t.addEventListener("click",s=>{s.target&&s.target.getAttribute("data-close")==="feature-modal"&&i()}),n&&n.addEventListener("submit",async s=>{const u=/^localhost$|^127\.0\.0\.1$/.test(window.location.hostname);if(/^https?:$/.test(window.location.protocol))try{s.preventDefault();const d=n.querySelector('button[type="submit"]');r&&(r.textContent="Sending\u2026"),d&&(d.disabled=!0);const c=new FormData(n);!c.get("form-name")&&n.getAttribute("name")&&c.set("form-name",n.getAttribute("name"));const e=new URLSearchParams(c).toString();if(!(await fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e})).ok)throw new Error("Network error");if(typeof posthog<"u")try{posthog.capture("feature_requested")}catch{}const p=n.getAttribute("action")||"thanks.html";window.location.href=p+(p.includes("?")?"&":"?")+"form=feature-request"}catch{r&&(r.textContent="Something went wrong. Please try again.");try{window.showToast&&window.showToast("Something went wrong. Please try again.",{type:"error",duration:4500})}catch{}if(u){const c=n.getAttribute("action")||"thanks.html";window.location.href=c+(c.includes("?")?"&":"?")+"form=feature-request&local=1"}else setTimeout(()=>{try{n.submit()}catch{}},200)}finally{const d=n.querySelector('button[type="submit"]');d&&(d.disabled=!1)}}),window.location&&window.location.hash==="#feature-request"&&setTimeout(o,50)})(),(function(){document.addEventListener("DOMContentLoaded",function(){const f=document.getElementById("thanks-title"),t=document.getElementById("thanks-desc");if(!f||!t)return;const h=new URLSearchParams(window.location.search||""),a=(h.get("form")||"").toLowerCase(),n=h.has("local"),r={"feature-request":{title:"Thanks \u2014 Feature request received",desc:"We\u2019ve logged your feature request. We read every submission and use it to guide our roadmap."},contact:{title:"Thanks \u2014 Message sent",desc:"We received your message and will get back within 1\u20132 business days."}},l={title:"Thanks \u2014 We got it",desc:"We received your submission. We appreciate your feedback and will review it shortly."},i=r[a]||l;if(f.textContent=i.title,t.textContent=i.desc,typeof posthog<"u")try{posthog.capture("thanks_viewed",{form:a||"unknown"})}catch{}if(n)try{window.showToast&&window.showToast("Local dev: simulated submission (no network).",{type:"info",duration:4500})}catch{}function m(o,s){const u=document.getElementById(o);u&&u.addEventListener("click",()=>{if(typeof posthog<"u")try{posthog.capture("thanks_cta_clicked",{cta:s})}catch{}})}m("thanks-home","home"),m("thanks-roadmap","roadmap")})})();
